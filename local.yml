---
- hosts: localhost
  connection: local
  vars_files:
    - vars/{{ ansible_distribution }}.yml
  pre_tasks:

    - name: install updates (Debian)
      tags: always
      apt:
        upgrade: dist
        update_cache: yes
      become: true
      when: ansible_distribution in ['Debian', 'Ubuntu']

    - name: remove init.sh script
      tags: always
      file:
        path: '{{ home_directory }}/init.sh'
        state: absent

- hosts: localhost
  vars_files:
    - vars/{{ ansible_distribution }}.yml
  tags: personal
  roles:
    - personal_config
    - neovim
    - brave
    - godot
  become: '{{ should_be_root }}'

- hosts: localhost
  tags: work
  roles:
    - nodejs
